<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on http://github.com/jonrohan -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="stylesheet" href="stylesheets/stylesheet.css" media="screen"/>
  <link rel="stylesheet" href="stylesheets/pygment_trac.css"/>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/script.js"></script>

  <title>H5Slides</title>
  <meta name="description" content="">

  <meta name="viewport" content="width=device-width,initial-scale=1">

</head>

<body>

  <div class="wrapper">
    <header>
      <h1 class="title">H5Slides</h1>
    </header>
    <div id="container">
      <p class="tagline"></p>
      <div id="main" role="main">
        <div class="download-bar">
        <div class="inner">
          <a href="https://github.com/Jinjiang/h5slides/tarball/master" class="download-button tar"><span>Download</span></a>
          <a href="https://github.com/Jinjiang/h5slides/zipball/master" class="download-button zip"><span>Download</span></a>
          <a href="https://github.com/Jinjiang/h5slides" class="code">fork H5Slides on GitHub</a>
        </div>
        <span class="blc"></span><span class="trc"></span>
        </div>
        <article class="markdown-body">
          <h1>H5Slides</h1>

<p><code>H5Slides</code>希望通过HTML5的技术，成为用户编辑、播放、控制幻灯片这一系列行为的全套方案的提供者。幻灯演示将会变得更自如，更轻便，更开放，更易于分享。</p>

<h2>特点</h2>

<ol>
<li>它是HTML5的！</li>
<li>我们不需要臃肿的Powerpoint也可以自由的制作和演示幻灯片</li>
<li>我们可以自由的在各种设备上进行幻灯演示</li>
<li>我们可以自由扩展幻灯片的制作工具和播放环境</li>
<li>它可以很自由很方便的传播</li>
</ol><h3>它不是……</h3>

<ul>
<li>它不是个重量级选手</li>
<li>它不是个全能型选手</li>
<li>它不是PPT，而是<code>H5Slides</code>！</li>
</ul><h2>运行方式</h2>

<h3>运行环境</h3>

<p><code>H5Slides</code>支持所有的webkit内核浏览器(safari/maxthon/chrome)，这包括Safari for iPad版本的触摸操作。在支持<code>FileSystemAPI</code>的新版webkit内核下(chrome 17+/maxthon 3.3.7+)，还允许用户上传图片，并设置为幻灯片背景等。</p>

<p>我们对于非webkit内核的浏览器也非常尊重，我们接下来会有一些<a href="#%E5%85%BC%E5%AE%B9%E6%9B%B4%E5%A4%9A%E7%9A%84%E7%8E%AF%E5%A2%83">兼容其他内核</a>的打算。感兴趣的朋友可以移步到项目进展和规划的章节了解情况或参与其中。</p>

<p>目前，在非webkit内核浏览器下，<code>H5Slides</code>会给用户一个较为友好的提示界面，推荐用户通过webkit内核浏览器进行使用。</p>

<h3>运行步骤</h3>

<ul>
<li>用webkit内核浏览器打开源代码中的<code>index.html</code>即可运行；</li>
<li>在新打开的界面中，我们可以自由编辑幻灯片的内容和样式；</li>
<li>点击右上角的“播放”按钮，可以进入播放器模式，播放我们之前编辑好的幻灯片；</li>
<li>如果想重新编写一个全新的幻灯片，可以点击右上角的“重做”按钮。</li>
</ul><hr><h2>我们的计划</h2>

<p><code>H5Slides</code>还是个很初级的WebApp，我们希望大家可以一同参与其中，共同打造我们自己的幻灯演示平台！欢迎为我们push代码，如果希望更深入的交流，可以随时与我们<a href="#%E6%88%91%E4%BB%AC%E7%9A%84%E8%81%94%E7%B3%BB%E6%96%B9%E5%BC%8F">取得联系</a>。</p>

<p>我们看得到的可完善的空间(2012.04.23更新)会放在下面；而同时，这里有一些多多益善的事情可以让大家都参与进来：</p>

<h3>幻灯素材</h3>

<ul>
<li>制作更多皮肤 —— 我们会提供<a href="#%E7%9A%AE%E8%82%A4%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3">皮肤开发文档</a>
</li>
<li>制作更多动画 —— 我们会提供<a href="#%E5%8A%A8%E7%94%BB%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3">动画开发文档</a>
</li>
<li>更多插件 *1</li>
</ul><h3>数据处理</h3>

<ul>
<li>数据结构的扩展 —— 我们会提供<a href="#%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F%E8%AF%B4%E6%98%8E%E6%96%87%E6%A1%A3">数据格式说明文档</a>
</li>
<li>附件管理(如图片等)</li>
<li>数据导入导出</li>
</ul><h3>完善编辑器功能</h3>

<ul>
<li>美化编辑器的界面</li>
<li>调整布局位置</li>
<li>修改字体</li>
<li>选择动画</li>
<li>幻灯片排序</li>
<li>撤销&amp;恢复</li>
<li>配置插件 *1</li>
<li>插入widget *2</li>
<li>设置页面内的动画 *3</li>
</ul><h3>widget机制 *2</h3>

<ul>
<li>富文本编辑器</li>
<li>图片</li>
<li>流程图</li>
<li>报表</li>
<li>视频</li>
<li>地图</li>
<li>问卷</li>
</ul><h3>兼容更多的环境</h3>

<ul>
<li>兼容平板</li>
<li>兼容其它浏览器</li>
</ul><h4>注</h4>

<ol>
<li>插件是指播放器在播放幻灯演示时的附加功能(如允许演示者在幻灯片上涂鸦等)，插件系统目前还在设计之中</li>
<li>widget是指可以插入幻灯片中的多媒体内容或复杂内容，以widget的形式插入其中，widget系统目前还在设计之中</li>
<li>页面内的动画是指幻灯片内容的分步骤呈现的效果，目前还在设计之中</li>
</ol><h4>我们的联系方式</h4>

<p>我们的github页面：<a href="https://github.com/Jinjiang/h5slides">https://github.com/Jinjiang/h5slides</a><br>
我们的邮箱：<a href="mailto:h5slides@gmail.com">h5slides@gmail.com</a><br>
我的个人微博：<a href="http://weibo.com/mx006">@勾三股四</a>  </p>

<hr><h2>皮肤开发文档</h2>

<p>皮肤是基于幻灯片布局和幻灯片内部元素的样式和尺寸的设计。每款皮肤应该拥有一个唯一的名称，在展示时，幻灯片的根结点会被赋予<code>[data-design="*"]</code>特性。比如<code>[data-design="blue-summer"]</code>。</p>

<h3>皮肤文件格式</h3>

<p>每一款皮肤都是由一个css文件作为起点，存放在<code>/css/theme/</code>目录下的和皮肤名称同名的css文件中。该css文件的内容应该是一系列主题特性、布局特性、内部元素特性及其样式的集合。比如：</p>

<pre><code>[data-design="blue-summer"] [data-layout="title"] [data-item="content"] {
    color: blue;
    width: 480px;
}
[data-design="blue-summer"] [data-layout="subtitle"] [data-item="content"] {
    color: navy;
    width: 420px;
}
......
</code></pre>

<p>其中，布局是基于<code>[data-layout="*"]</code>的，默认的布局情况一共有5个：</p>

<ul>
<li>
<code>title</code>: 大标题页面</li>
<li>
<code>subtitle</code>: 小标题页面</li>
<li>
<code>normal</code>: 正文页面</li>
<li>
<code>double</code>: 两列正文页面</li>
<li>
<code>double-subtitle</code>: 两列正文且每列正文带子标题的页面</li>
</ul><p>内部元素是基于<code>[data-item="*"]</code>的，默认的内部元素一共有5个：</p>

<ul>
<li>
<code>title</code>: 标题元素</li>
<li>
<code>subtitle</code>: 第一子标题元素</li>
<li>
<code>subtitle2</code>: 第二子标题元素</li>
<li>
<code>content</code>: 正文元素</li>
<li>
<code>content2</code>: 第二正文元素</li>
</ul><p>幻灯片布局和内部元素的对应关系如下：</p>

<ul>
<li>每个大标题页面都包含一个标题元素和一个正文元素</li>
<li>每个小标题页面都包含一个标题元素和一个正文元素</li>
<li>每个正文页面都包含一个标题元素和一个正文元素</li>
<li>每个两列正文页面都包含一个标题元素和两个正文元素(正文元素和第二正文元素)</li>
<li>每个两列正文带子标题的页面都包含一个标题元素、两个子标题元素(第一子标题元素和第二子标题元素)和两个正文元素(正文元素和第二正文元素)</li>
</ul><p>默认的主题样式可参考<code>/css/theme.css</code></p>

<h3>使用定义好的皮肤</h3>

<p>打开<code>/data/themes.js</code>，加入一行数据，比如：<code>{"key": "blue-summer", "title": "蓝色夏天"}</code>，同时，在<code>/css/theme/</code>下新建一个该皮肤的同名目录，并放入<code>logo.png</code>作为皮肤展示时的缩略图。然后在编辑器左侧边栏的“主题”面板下会看到这个主题的缩略图。点击该缩略图，即可应用主题。</p>

<hr><h2>动画开发文档</h2>

<h3>播放器的dom结构</h3>

<p>幻灯片在播放时的根结点是<code>#player</code>，每张幻灯片是一个<code>section</code>结点。默认情况下幻灯片都是隐藏起来的(<code>display: none;</code>)，只有正在播放的那张幻灯片是显示出来的(<code>display: block;</code>)。</p>

<h3>动画的实现原理</h3>

<p>由于<code>display</code>的属性值在<code>none</code>和<code>block</code>之间切换是没有动画效果支持的，我们做了一点改进：把当前幻灯片、前一张幻灯片和后一张幻灯片，分别赋予特殊的className：<code>.current</code>、<code>.prev</code>、<code>.next</code>。他们三个的<code>display</code>属性值均为<code>block</code>，同时<code>.prev</code>和<code>.next</code>的<code>opacity</code>属性值为<code>0</code>，<code>.current</code>的<code>opacity</code>属性值为<code>1</code>。这样幻灯片的切换就会有渐变效果。基本的css样式如下：</p>

<pre><code>#player section {
    display: none;
    transition: all 0.3s ease-out;
}
#player section.current {
    display: block;
    opacity: 1;
}
#player section.next,
#player section.prev {
    display: block;
    opacity: 0;
}
</code></pre>

<h3>动画文件格式</h3>

<p>我们可以在此基础上，通过css代码加入更酷炫的幻灯片切换动画。和皮肤开发相同的，我们需要为每种动画效果起一个名字。比如：<code>horizontal</code>。然后，我们可以在<code>/css/transition/</code>目录下创建一个同名的css文件。</p>

<p>这个css文件中，我们为幻灯片中的<code>section</code>元素增加一个<code>data-transition</code>属性：<code>section[data-transition="transition_horizontal"]</code>(注意，属性值前需要加入<code>transition_</code>前缀)。然后将<code>.current</code>、<code>.prev</code>、<code>.next</code>下的不同样式写入即可。比如：</p>

<pre><code>[data-transition="transition_horizontal"].next {
    left: 450px;
}
[data-transition="transition_horizontal"].current {
    left: 0;
}
[data-transition="transition_horizontal"].prev {
    left: -450px;
}
</code></pre>

<h3>使用定义好的动画</h3>

<p>目前使用动画的方法是：打开<code>/js/app.js</code>，把其中的变量<code>defaultTransition</code>改为带<code>transition_</code>前缀的动画名即可。比如：</p>

<pre><code>var defaultTransition = 'transition_horizontal';
</code></pre>

<p>再使用播放器，就可以看到效果了。</p>

<hr><h2>文件/目录结构说明</h2>

<ul>
<li>
<code>/css/</code>: 基本样式文件</li>
<li>
<code>/css/theme/</code>: 主题样式集合，每个主题是一个同名css文件，可以伴随同名文件夹包含更多内容</li>
<li>
<code>/css/transition/</code>: 切换动画集合，每个动画是一个同名css文件</li>
<li>
<code>/js/</code>: 脚本文件</li>
<li>
<code>/js/lib/</code>: 基础函数库</li>
<li>
<code>/js/ui/</code>: 界面相关的脚本</li>
<li>
<code>/data/</code>: 脚本数据，包括可用布局列表、可选主题列表、初始化数据信息等</li>
</ul><hr><h2>数据格式说明文档</h2>

<p>默认数据保存在<code>/data/default.js</code>中，变量名为<code>defaultData</code>。</p>

<pre><code>var defaultData = {
    "theme": "blank",
    "slides": [
        {
            "layout": "title",
            "content": {
                "title": "幻灯片标题",
                "content": "你的名字"
            }
        },
        {
            "layout": "normal",
            "content": {
                "title": "正文标题",
                "content": "正文内容\n是可以多行显示的"
            }
        },
        {
            "layout": "subtitle",
            "content": {
                "title": "THE END",
                "content": "谢谢大家"
            }
        }
    ]
};
</code></pre>

<h3>字段解释</h3>

<h4><code>theme</code></h4>

<p>默认主题名称</p>

<h4><code>slides</code></h4>

<p>以数组形式存放所有幻灯片的详细内容</p>

<h4><code>slides[i].layout</code></h4>

<p>某张幻灯片的布局类型，有效的值有：<code>title</code>、<code>subtitle</code>、<code>normal</code>、<code>double</code>、<code>double-subtitle</code></p>

<h4><code>slides[i].content[key]</code></h4>

<p>某张幻灯片的所有内部元素的文字内容，有效的key值有：<code>title</code>、<code>subtitle</code>、<code>subtitle2</code>、<code>content</code>、<code>content2</code></p>

<h4><code>slides[i].position[key][cssName]</code></h4>

<p>某张幻灯片的自定义元素尺寸和位置，有效的key值同上，有效的cssName值有：<code>left</code>、<code>top</code>、<code>width</code>、<code>height</code>。</p>

<p>目前我们的编辑器暂不支持编辑尺寸和位置，使用时可以通过直接修改<code>defaultData</code>的值来应用这一规则。</p>

<h4><code>slides[i].style[key][cssName]</code></h4>

<p>某张幻灯片的自定义元素尺寸和位置，有效的key值在同上的基础上外加一个<code>slide</code>，表示该幻灯片整体的样式，有效的cssName值除了上一条提到的属性值外，还不支持：<code>right</code>、<code>bottom</code>；另外支持形如<code>-ppt-*</code>的属性值，以备扩展。</p>

<p>目前已有的扩展只有一个，就是<code>-ppt-size</code>，用来控制文字大小，可选的<code>-ppt-size</code>属性值有：<code>small</code>、<code>normal</code>、<code>large</code>。</p>

<p>目前我们的编辑器暂支持编辑<code>color</code>、<code>-ppt-size</code>和<code>slide</code>下的<code>background-image</code>这几个css属性。若想使用其它css属性，可以通过直接修改<code>defaultData</code>的值来应用这一规则。</p>
        </article>
      </div>
    </div>
    <footer>
      <div class="owner">
      <p><a href="https://github.com/Jinjiang" class="avatar"><img src="https://secure.gravatar.com/avatar/41bf705577960c95752ab55f19650b18?s=30&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png" width="48" height="48"/></a> <a href="https://github.com/Jinjiang">Jinjiang</a> maintains <a href="https://github.com/Jinjiang/h5slides">H5Slides</a></p>
      </div>
      <div class="creds">
        <small>This page generated using <a href="https://pages.github.com/">GitHub Pages</a><br/>theme by <a href="http://twitter.com/jonrohan/">Jon Rohan</a></small>
      </div>
    </footer>
  </div>
  <div class="current-section">
    <a href="#top">Scroll to top</a>
    <a href="https://github.com/Jinjiang/h5slides/tarball/master" class="tar">tar</a><a href="https://github.com/Jinjiang/h5slides/zipball/master" class="zip">zip</a><a href="" class="code">source code</a>
    <p class="name"></p>
  </div>

  
</body>
</html>
